to allocate memory use: 

p = malloc(sizeof(struct time));